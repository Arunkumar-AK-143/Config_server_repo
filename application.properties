getUserRole(): Observable<string | null> {
  const token = this.getToken();
  if (!token) return of(null);

  const payload = JSON.parse(atob(token.split('.')[1]));
  const roles = payload.roles;

  // Check structure: role might be an array of authorities
  if (Array.isArray(roles)) {
    // If first item is object: { authority: "ROLE_USER" }
    if (typeof roles[0] === 'object' && roles[0] !== null) {
      return of(roles[0].authority || null);
    } else {
      return of(roles[0]);
    }
  }

  return of(null);
}
export class HomeComponent implements OnInit {
  userRole: string | null = null;

  constructor(private authService: AuthService) {}

  ngOnInit(): void {
    this.authService.getUserRole().subscribe(role => {
      console.log('Role:', role);  // ðŸ‘ˆ helpful debug
      this.userRole = role;
    });
  }
}
<h2>Welcome to Eventify!</h2>
<p *ngIf="userRole">
  You are logged in as a <strong>{{ userRole === 'ROLE_ADMIN' ? 'Admin' : 'User' }}</strong>.
</p>